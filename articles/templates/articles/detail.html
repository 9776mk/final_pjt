{% extends 'base.html' %}
{% load django_bootstrap5 %}
{% load mathfilters %}


{% block content %}
  <h1>detail</h1>
  <p>{{ articles.title }}</p>
  <p>{{ articles.content }}</p>

  <!-- 사진 -->
  {% for image in articles.image_set.all %}
    <img style="object-fit: cover; height: 480px;" src="{{ image.image.url }}" class="d-block mx-auto" alt="{{ image.image }}">
    <br>
  {% endfor %}


  {% if request.user == articles.user %}
    <form action="" method="POST">
      {% csrf_token %}
      <a href="{% url 'articles:delete' articles.pk %}" class="btn btn-outline-secondary">삭제</a>
      <a href="{% url 'articles:update' articles.pk %}" class="btn btn-outline-secondary">수정</a>
      <a href="{% url 'articles:index' %}" class="btn btn-outline-secondary">뒤로</a>
    </form>
  {% endif %}
  {% if request.user.is_authenticated %}
    <form action="{% url 'articles:comments_create' articles.pk %}" method="POST">
      {% csrf_token %}
      <textarea name="content" id="content" rows="15"></textarea>
      <input type="submit" value="글쓰기">
    </form>
  {% else %}
    <a href="{% url 'accounts:login' %}" class="btn btn-outline-secondary">로그인</a>
  {% endif %}
{% endblock content %}
